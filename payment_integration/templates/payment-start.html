<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desktop 5</title>
    <link rel="stylesheet" href="{% static 'css\payment-start.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
        body {
            -webkit-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        .blurred {
            filter: blur(10px);
        }
    </style>
</head>
<body>


    
    <div class="box">
        <div class="upper-section">
            <div class="payment-logo">
                <img src="/static/images/image_1.png" alt="">
            </div>
            <div class="payment-head"><h3>Payment Gateway Architecture</h3></div>
            <div class="payment-account">
                <img src="/static/images/user.png" alt="User" style="margin-left: -100px; margin-top:15px; opacity: 0.3;" height="40px" width="40px">
                <h6 style="margin-top: -40px; color:#003B8B;margin-left: -50px;">{{full_name}}</h6>
                <h6 style="color: black; margin-top: -10px;margin-left: -50px;">{{email}}</h6>
            </div>
        </div>

        <div class="payment-content">
            <strong>Payment Gateway Section Instructions.</strong><br>
            <p>
                1) This section evaluates your understanding of the logic and algorithm behind the live payment gateway process.<br><br>
                2) You are required to first check the functionality of the payment architecture solutions.<br><br>
                3) You will only be able to access and attempt questions in the next section after completing the steps related to the payment gateway architecture. These questions will focus on testing the payment gateway and identity potential issues. Please proceed carefully to ensure all aspects of the payment process are throughly covered.<br>
            </p><br>
            <div class="content-check">
                <input type="checkbox" id="check-first" required/>
                <span>Acknowledged</span>
            </div>
            <form action="{% url 'payment_integration:initiate-payment' %}" method="POST" class="pass-box">
                {% csrf_token %}
                <button class="continue-btn" id="cont-btn" type="submit" disabled> Continue </button>
            </form>
        </div>
    </div>

    <script>
        const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
     
        // Disable context menu
        document.addEventListener('contextmenu', event => event.preventDefault());
     
        // Disable keyboard shortcuts
        document.addEventListener('keydown', event => {
            if ((event.ctrlKey || event.metaKey) && (event.key === 'c' || event.key === 'u')) {
                event.preventDefault();
            }
        });
     
        // Handle Meta key and blur
        document.addEventListener('keydown', event => {
            if (event.key === 'Meta' || event.code === 'OS') {
                document.body.classList.add('blurred');
            }
            if (event.key === 'Escape') {
                event.preventDefault();
            }
            if (event.key === 'PrintScreen') {
                event.preventDefault();
            }
        });
     
        document.addEventListener('keyup', event => {
            if (event.key === 'Meta' || event.code === 'OS') {
                document.body.classList.remove('blurred');
            }
            if (event.key === 'PrintScreen') {
                document.body.classList.add('blurred'); // Blur content
                setTimeout(() => document.body.classList.remove('blurred'), 2000); // Unblur after 2 seconds
            }
        });
     
        // Add touch event listeners for iOS
        if (isIOS) {
            document.addEventListener('touchstart', () => {
                document.body.classList.add('blurred');
            });
     
            document.addEventListener('touchend', () => {
                document.body.classList.remove('blurred');
            });
        }
     </script>
    <script>
        let check = document.getElementById("check-first");
        let btn = document.getElementById("cont-btn");

        check.addEventListener('change', () => {
            if (check.checked) {
                btn.style.opacity = 1; 
                btn.disabled = false;
            } else {
                btn.style.opacity = 0.5;
                btn.disabled = true;
            }
          });

    </script>


</body>
</html>